<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Smartflix - My Lists</title>
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
		<link rel="stylesheet" href="styles.css">
	</head>
	<body>
        <div id="hero-background"></div>

		<div id="topbar">
			<img id="logo" height="40" src="logo.png" alt="Smartflix Logo">
			<nav class="nav-links">
				<a href="index.html">Home</a>
				<a href="explore.html">Explore</a>
				<a href="lists.html" class="active">My Lists</a>
				<a href="preferences.html">Preferences</a>
			</nav>
			
			<div class="nav-right">
				<p id="username"></p>
				<button id="login">Sign In</button>
			</div>
		</div>

		<div id="overlay">
			<div id="loginModal">
				<span class="close-btn" onclick="closeModal()">&times;</span>
				<div id="loginForm">
					<h2>Welcome Back</h2>
					<input type="text" id="loginUsername" placeholder="Username">
					<input type="password" id="loginPassword" placeholder="Password">
					<button>Sign In</button>
					<span class="toggle-link" onclick="showSignup()">New to Smartflix? <b>Sign up now.</b></span>
				</div>
				<div id="signupForm" style="display: none;">
					<h2>Create Account</h2>
					<input type="text" id="signupUsername" placeholder="Username">
					<input type="email" id="signupEmail" placeholder="Email">
					<input type="password" id="signupPassword" placeholder="Password">
					<button>Register</button>
					<span class="toggle-link" onclick="showLogin()">Already have an account? <b>Sign in.</b></span>
				</div>
			</div>
		</div>

		<main id="mainContent">
            <div id="listsPageContainer">
                
                <aside class="lists-sidebar">
                    <div class="lists-header">
					    <h2>Your Collections</h2>
					    
					    <div class="action-wrapper">
					        <button id="addNewListBtn" class="icon-btn" title="Create New List">+</button>
					        
					        <div id="createListDropdown" class="action-menu" style="width: 200px; right: -5px;">
					            <input type="text" id="newListNameInput" placeholder="List Name...">
					            <button id="confirmCreateListBtn" class="primary-btn small-btn">Create</button>
					        </div>
					    </div>
					</div>
                    <ul id="userListsList">
                        </ul>
                </aside>

                <section class="current-list-view">
                    <div id="notSignedInMessage" style="display: none; text-align: center; margin-top: 100px;">
                        <h2>Please sign in to view your lists.</h2>
                    </div>

                    <div id="listContentArea">
                        <div class="list-title-bar">
                            <h1 id="activeListTitle">Loading...</h1>
                            <div class="list-controls">
							    <div class="action-wrapper">
							        <button id="renameToggleBtn" class="secondary-btn">Rename</button>
							        <div id="renameDropdown" class="action-menu">
							            <input type="text" id="renameInput" placeholder="New Name...">
							            <button id="confirmRenameBtn" class="primary-btn small-btn">Save</button>
							        </div>
							    </div>

							    <div class="action-wrapper">
							        <button id="deleteToggleBtn" class="secondary-btn delete-style">Delete List</button>
							        <div id="deleteDropdown" class="action-menu">
							            <p>Are you sure?</p>
							            <button id="confirmDeleteBtn" class="primary-btn small-btn danger-btn">Confirm Delete</button>
							        </div>
							    </div>
							</div>
                        </div>

                        <div id="activeListGrid" class="movie-flex-grid">
                            </div>
                    </div>
                </section>
            </div>
		</main>

		<div id="movie-expand-modal" class="expand-overlay">
		    <div class="expand-card">
		        <div id="expand-bg-blur" class="expand-bg-blur"></div>
		        
		        <button id="close-expand-btn">&times;</button>
		        <button id="back-to-details-btn">Back</button>

		        <div class="expand-content">
		            <div class="expand-poster-container">
		                <img id="expand-img" src="" alt="">
		            </div>
		            
		            <div class="expand-right-side">
		                
		                <div class="expand-header-static">
		                    <h1 id="expand-title">Movie Title</h1>
		                    <div class="expand-meta-row">
		                        <span id="expand-year" class="badge">2024</span>
		                        <span id="expand-rating" class="badge">⭐ 8.5</span>
		                        <span id="expand-runtime">2h 15m</span>
		                    </div>
		                </div>

		                <div id="expand-slider" class="expand-slider">
		                    
		                    <div class="details-slide">
		                        <div id="expand-genres" class="expand-genres">Action • Sci-Fi</div>
		                        <p id="expand-desc">Movie description goes here...</p>
		                        
		                        <div class="expand-actions">
		                            <a id="expand-link" href="#" target="_blank" class="action-btn">Visit Website</a>
		                            <button id="watch-trailer-btn" class="action-btn">▶ Watch Trailer</button>
		                        </div>
		                    </div>

		                    <div class="trailer-slide">
		                        <div id="trailer-container" class="trailer-frame-container"></div>
		                    </div>

		                </div>
		            </div>
		        </div>
		    </div>
		</div>

		<script src="login.js"></script>
		<script src="moviedata.js"></script>
		<script src="movies.js"></script>
        <script src="lists.js"></script>
	</body>
</html>